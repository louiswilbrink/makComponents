<script>

  var max = 10;
  var min = 2;
  var data = [3, 2, 6, 2, 7, 10, 4];
  var circles;

  var svg = d3.select('#shrinking-circles')

  // Shuffles the input array.
  function shuffle(array) {
    var m = array.length, t, i;
    while (m) {
      i = Math.floor(Math.random() * m--);
      t = array[m], array[m] = array[i], array[i] = t;
    }
    return array;
  }

  var drawCircles = function () {

    circles = svg.selectAll('circle').data(data);

    circles.enter()
      .append('circle')
        .attr('cx', function (d, i) {
          return (i * 60) + 10;
        })
        .attr('cy', 250)
        .attr('r', 0)
        .style('fill', function (d) {
          return randomColor();
        })
      .transition()
        .attr('r', function (d) {
          return d * 2;
        })

    circles.exit()
      .transition()
        .attr('r', 0)
      .remove()
  };

  drawCircles();

  window.setTimeout(function () {

    //shuffle(data);

    data.push(6);
    data.push(9);
    data.push(4);

    console.log(data);

    drawCircles();
  }, 3000);

</script>
<svg id="shrinking-circles" class="std-svg">
</svg>
